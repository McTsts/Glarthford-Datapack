execute if score @s tbcAttackStage matches 0 run scoreboard players add @s tbcAttackTimer 1
execute if score @s tbcAttackStage matches 0 as @e[tag=tbcSelPlayerAS] at @s rotated ~ 0 run tp @s ^ ^ ^0.1
execute if score @s tbcAttackStage matches 0 if score @s tbcAttackTimer matches 10.. run scoreboard players set cheatCount tbcStats 0
execute if score @s tbcAttackStage matches 0 if score @s tbcAttackTimer matches 10.. run scoreboard players set @s tbcMenuX 101
execute if score @s tbcAttackStage matches 0 if score @s tbcAttackTimer matches 10.. run function glarth:combat/action/util/next_stage

execute if score @s tbcAttackStage matches 1 run scoreboard players add @s tbcAttackTimer 1
execute if score @s tbcAttackStage matches 1 run scoreboard players set staffRay tbcStats 0
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 1 run scoreboard players set attackSuccess tbcStats 1
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer < staffDuration tbcStats at @e[tag=tbcSelPlayerAS] run playsound minecraft:entity.blaze.shoot player @s ~ ~ ~ 1 2
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer < staffDuration tbcStats at @e[tag=tbcSelPlayerAS] positioned ^-0.925 ^0.85 ^0.6 run function glarth:combat/action/helper/staff_ray
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats run scoreboard players operation dodge tbcStats = attackStrength tbcStats
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats run scoreboard players operation dodge tbcStats *= attackSuccess tbcStats
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats run scoreboard players operation dodge tbcStats /= 7 Const
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats run scoreboard players operation damage tbcStats = attackSuccess tbcStats
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats if score attackStrength tbcStats matches 1 run scoreboard players operation damage tbcStats *= 3 Const
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats if score attackStrength tbcStats matches 2 run scoreboard players operation damage tbcStats *= 5 Const
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats if score attackStrength tbcStats matches 3 run scoreboard players operation damage tbcStats *= 7 Const
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats unless score attackElement tbcStats matches 0 run scoreboard players remove damage tbcStats 20
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats if score attackElement tbcStats matches 5 run scoreboard players add damage tbcStats 10
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats if score attackElement tbcStats matches 1 run scoreboard players operation freeze tbcStats = attackSuccess tbcStats
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats if score attackElement tbcStats matches 1 if score attackStrength tbcStats matches 1 run scoreboard players operation freeze tbcStats *= 3 Const
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats if score attackElement tbcStats matches 1 if score attackStrength tbcStats matches 1 run scoreboard players operation freeze tbcStats /= 2 Const
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats if score attackElement tbcStats matches 1 if score attackStrength tbcStats matches 2 run scoreboard players operation freeze tbcStats *= 2 Const
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats if score attackElement tbcStats matches 1 run scoreboard players operation freeze tbcStats /= 20 Const
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats if score attackElement tbcStats matches 2 run scoreboard players operation fire tbcStats = attackSuccess tbcStats
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats if score attackElement tbcStats matches 2 if score attackStrength tbcStats matches 1 run scoreboard players operation fire tbcStats *= 3 Const
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats if score attackElement tbcStats matches 2 if score attackStrength tbcStats matches 1 run scoreboard players operation fire tbcStats /= 2 Const
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats if score attackElement tbcStats matches 2 if score attackStrength tbcStats matches 2 run scoreboard players operation fire tbcStats *= 2 Const
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats if score attackElement tbcStats matches 2 run scoreboard players operation fire tbcStats /= 10 Const
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats if score attackElement tbcStats matches 3 run scoreboard players operation stun tbcStats = attackSuccess tbcStats
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats if score attackElement tbcStats matches 3 if score attackStrength tbcStats matches 1 run scoreboard players operation stun tbcStats *= 3 Const
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats if score attackElement tbcStats matches 3 if score attackStrength tbcStats matches 1 run scoreboard players operation stun tbcStats /= 2 Const
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats if score attackElement tbcStats matches 3 if score attackStrength tbcStats matches 2 run scoreboard players operation stun tbcStats *= 2 Const
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats if score attackElement tbcStats matches 3 run scoreboard players operation stun tbcStats /= 15 Const
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats if score attackElement tbcStats matches 4 run scoreboard players operation blindness tbcStats = attackSuccess tbcStats
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats if score attackElement tbcStats matches 4 if score attackStrength tbcStats matches 1 run scoreboard players operation blindness tbcStats *= 3 Const
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats if score attackElement tbcStats matches 4 if score attackStrength tbcStats matches 1 run scoreboard players operation blindness tbcStats /= 2 Const
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats if score attackElement tbcStats matches 4 if score attackStrength tbcStats matches 2 run scoreboard players operation blindness tbcStats *= 2 Const
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats if score attackElement tbcStats matches 4 run scoreboard players operation blindness tbcStats /= 10 Const
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats if score attackElement tbcStats matches 6 run scoreboard players operation poison tbcStats = attackSuccess tbcStats
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats if score attackElement tbcStats matches 6 if score attackStrength tbcStats matches 1 run scoreboard players operation poison tbcStats *= 3 Const
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats if score attackElement tbcStats matches 6 if score attackStrength tbcStats matches 1 run scoreboard players operation poison tbcStats /= 2 Const
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats if score attackElement tbcStats matches 6 if score attackStrength tbcStats matches 2 run scoreboard players operation poison tbcStats *= 2 Const
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats if score attackElement tbcStats matches 6 run scoreboard players operation poison tbcStats /= 10 Const
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats if score attackElement tbcStats matches 7 run scoreboard players operation bee tbcStats = attackSuccess tbcStats
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats if score attackElement tbcStats matches 7 if score attackStrength tbcStats matches 1 run scoreboard players operation bee tbcStats *= 3 Const
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats if score attackElement tbcStats matches 7 if score attackStrength tbcStats matches 1 run scoreboard players operation bee tbcStats /= 2 Const
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats if score attackElement tbcStats matches 7 if score attackStrength tbcStats matches 2 run scoreboard players operation bee tbcStats *= 2 Const
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats if score attackElement tbcStats matches 7 run scoreboard players operation bee tbcStats /= 10 Const
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats as @e[scores={tbcSel=1}] run function glarth:combat/action_enemy/dodge
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats if score cheatCount tbcStats matches 10.. run tag @s add tbcDS
#execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats run tellraw @a {"score":{"name":"cheatCount","objective":"tbcStats"}}
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats if entity @s[tag=tbcDS] run scoreboard players operation damage tbcStats *= -1 Const
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats if entity @s[tag=tbcDS] run function glarth:combat/action/util/damage_self
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats if entity @s[tag=tbcDS] run scoreboard players set damage tbcStats 0
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats if entity @e[scores={tbcSel=1},tag=tbcBoss] if score attackElement tbcStats matches 1 run scoreboard players remove blindness tbcStats 1
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats if entity @e[scores={tbcSel=1},tag=tbcBoss] if score attackElement tbcStats matches 2 run scoreboard players remove stun tbcStats 1
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats if entity @e[scores={tbcSel=1},tag=tbcBoss] if score attackElement tbcStats matches 3 run scoreboard players remove freeze tbcStats 1
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats if entity @e[scores={tbcSel=1},tag=tbcBoss] if score attackElement tbcStats matches 4 run scoreboard players remove fire tbcStats 1
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats if entity @e[scores={tbcSel=1},tag=tbcBoss] if score attackElement tbcStats matches 6 run scoreboard players remove poison tbcStats 1
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats if entity @e[scores={tbcSel=1},tag=tbcBoss] if score attackElement tbcStats matches 7 run scoreboard players remove bee tbcStats 1
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats if entity @s[tag=!tbcDS] run function glarth:combat/action/util/damage
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats if entity @e[scores={tbcSel=1},tag=tbcBoss] if score attackElement tbcStats matches 1 run scoreboard players add freeze tbcStats 1
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats if entity @e[scores={tbcSel=1},tag=tbcBoss] if score attackElement tbcStats matches 2 run scoreboard players add fire tbcStats 1
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats if entity @e[scores={tbcSel=1},tag=tbcBoss] if score attackElement tbcStats matches 3 run scoreboard players add stun tbcStats 1
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats if entity @e[scores={tbcSel=1},tag=tbcBoss] if score attackElement tbcStats matches 4 run scoreboard players add blindness tbcStats 1
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats if entity @e[scores={tbcSel=1},tag=tbcBoss] if score attackElement tbcStats matches 6 run scoreboard players add poison tbcStats 1
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats if entity @e[scores={tbcSel=1},tag=tbcBoss] if score attackElement tbcStats matches 7 run scoreboard players add bee tbcStats 1
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats run tag @s remove tbcDS
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats run scoreboard players operation damage tbcStats /= 2 Const
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats run scoreboard players operation fire tbcStats /= 2 Const
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats run scoreboard players operation stun tbcStats /= 2 Const
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats run scoreboard players operation blindness tbcStats /= 2 Const
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats run scoreboard players operation freeze tbcStats /= 2 Const
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats run scoreboard players operation poison tbcStats /= 2 Const
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats run scoreboard players operation bee tbcStats /= 2 Const
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats if score damage tbcStats matches 1.. run function glarth:combat/action/util/aoe
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats run scoreboard players set @s tbcMenuX -1
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats if score attackElement tbcStats matches 0 as @e[scores={tbcSel=1}] at @s run particle minecraft:witch ~ ~ ~ 2 2 2 0.1 100
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats if score attackElement tbcStats matches 1 as @e[scores={tbcSel=1}] at @s run particle minecraft:splash ~ ~ ~ 2 2 2 0.1 100
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats if score attackElement tbcStats matches 2 as @e[scores={tbcSel=1}] at @s run particle minecraft:flame ~ ~ ~ 2 2 2 0.1 100
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats if score attackElement tbcStats matches 2 as @e[scores={tbcSel=1}] at @s run particle minecraft:lava ~ ~ ~ 2 2 2 0.1 100
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats if score attackElement tbcStats matches 3 as @e[scores={tbcSel=1}] at @s run particle minecraft:cloud ~ ~ ~ 2 2 2 0.1 100
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats if score attackElement tbcStats matches 3 as @e[scores={tbcSel=1}] at @s run summon minecraft:lightning_bolt
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats if score attackElement tbcStats matches 4 as @e[scores={tbcSel=1}] at @s run particle minecraft:crit ~ ~ ~ 2 2 2 0.1 100
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats if score attackElement tbcStats matches 5 as @e[scores={tbcSel=1}] at @s run particle minecraft:cloud ~ ~ ~ 2 2 2 0.1 100
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats if score attackElement tbcStats matches 6 as @e[scores={tbcSel=1}] at @s run particle minecraft:happy_villager ~ ~ ~ 2 2 2 0.1 100
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats if score attackElement tbcStats matches 7 as @e[scores={tbcSel=1}] at @s run particle minecraft:falling_honey ~ ~ ~ 2 2 2 0.1 100
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 41.. if score @s tbcAttackTimer = staffDuration tbcStats run function glarth:combat/action/util/next_stage

execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 1..40 if score clicked tbcStats matches 1.. if score clickCount tbcStats matches 2.. run scoreboard players operation cheatCount tbcStats += clickCount tbcStats
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 1..40 if score clicked tbcStats matches 1.. if score clickCount tbcStats matches 2.. run scoreboard players remove cheatCount tbcStats 1
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 1..40 if score clicked tbcStats matches 1.. if score attackElement tbcStats matches 0 at @e[tag=tbcSelPlayerAS] run particle minecraft:witch ~ ~0.6 ~ 1 1 1 0.5 3
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 1..40 if score clicked tbcStats matches 1.. if score attackElement tbcStats matches 1 at @e[tag=tbcSelPlayerAS] run particle minecraft:splash ~ ~0.6 ~ 1 1 1 0.5 3
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 1..40 if score clicked tbcStats matches 1.. if score attackElement tbcStats matches 2 at @e[tag=tbcSelPlayerAS] run particle minecraft:flame ~ ~0.6 ~ 0 0 0 0.1 3
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 1..40 if score clicked tbcStats matches 1.. if score attackElement tbcStats matches 3 at @e[tag=tbcSelPlayerAS] run particle minecraft:cloud ~ ~1 ~ 0 0 0 0.1 3
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 1..40 if score clicked tbcStats matches 1.. if score attackElement tbcStats matches 4 at @e[tag=tbcSelPlayerAS] run particle minecraft:crit ~ ~0.6 ~ 1 1 1 0.5 3
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 1..40 if score clicked tbcStats matches 1.. if score attackElement tbcStats matches 5 at @e[tag=tbcSelPlayerAS] run particle minecraft:cloud ~ ~0.6 ~ 1 1 1 0.5 3
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 1..40 if score clicked tbcStats matches 1.. if score attackElement tbcStats matches 6 at @e[tag=tbcSelPlayerAS] run particle minecraft:happy_villager ~ ~0.6 ~ 1 1 1 0.5 3
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 1..40 if score clicked tbcStats matches 1.. if score attackElement tbcStats matches 7 at @e[tag=tbcSelPlayerAS] run particle minecraft:falling_honey ~ ~0.6 ~ 1 1 1 0.5 3
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 1..40 if score clicked tbcStats matches 1.. at @s run playsound minecraft:entity.arrow.hit_player player @s ~ ~ ~ 1 2
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 1..40 if score clicked tbcStats matches 1.. run scoreboard players add attackSuccess tbcStats 1
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 40 run scoreboard players operation staffDuration tbcStats = attackSuccess tbcStats
execute if score @s tbcAttackStage matches 1 if score @s tbcAttackTimer matches 40 run scoreboard players add staffDuration tbcStats 40

execute if score @s tbcAttackStage matches 2 run scoreboard players add @s tbcAttackTimer 1
execute if score @s tbcAttackStage matches 2 if score @s tbcAttackTimer matches 15.. run function glarth:combat/action/util/next_stage

execute if score @s tbcAttackStage matches 3 run scoreboard players add @s tbcAttackTimer 1
execute if score @s tbcAttackStage matches 3 as @e[tag=tbcSelPlayerAS] at @s rotated ~ 0 run tp @s ^ ^ ^-0.1
execute if score @s tbcAttackStage matches 3 if score @s tbcAttackTimer matches 10.. run function glarth:combat/action/util/done