function glarth:mechanic/do_win